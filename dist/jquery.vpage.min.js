!function(e){var t={};function r(n){if(t[n])return t[n].exports;var a=t[n]={i:n,l:!1,exports:{}};return e[n].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)r.d(n,a,function(t){return e[t]}.bind(null,a));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=16)}([function(e,t,r){"use strict";e.exports=function(){var e={noMore:!1,useDirtyCheck:!1},t=[],r=[],n=[],a=!1;try{a=Object.defineProperty&&Object.defineProperty({},"x",{})}catch(e){}var o=function(e){return e&&"[object Function]"=={}.toString.call(e)},i=function(e){return"[object Array]"===Object.prototype.toString.call(e)},c=function(e){return"[object Object]"==={}.toString.apply(e)},u=function(e,t){var r=[],n=[];if("string"!=typeof e&&"string"!=typeof t){if(i(e)&&t)for(var a=0;a<e.length;a++)void 0===t[a]&&r.push(a);else for(var a in e)e.hasOwnProperty(a)&&t&&!t.hasOwnProperty(a)&&r.push(a);if(i(t)&&e)for(var o=0;o<t.length;o++)void 0===e[o]&&n.push(o);else for(var o in t)t.hasOwnProperty(o)&&e&&!e.hasOwnProperty(o)&&n.push(o)}return{added:r,removed:n}},s=function(e){if(null==e||"object"!=typeof e)return e;var t=e.constructor();for(var r in e)t[r]=e[r];return t},l=function(e,t,r){try{Object.defineProperty(e,t,{enumerable:!1,configurable:!0,writable:!1,value:r})}catch(n){e[t]=r}},f=function(e,t,n){r[r.length]={prop:t,object:e,orig:s(e[t]),callback:n}},p=function(e,t,r,n){if("string"!=typeof e&&(e instanceof Object||i(e))){if(i(e)){if(_(e,"__watchall__",t,r),void 0===r||r>0)for(var o=0;o<e.length;o++)p(e[o],t,r,n)}else{var c=[];for(o in e)"$val"==o||!a&&"watchers"===o||Object.prototype.hasOwnProperty.call(e,o)&&c.push(o);h(e,c,t,r,n)}n&&$(e,"$$watchlengthsubjectroot",t,r)}},h=function(e,t,r,n,a){if("string"!=typeof e&&(e instanceof Object||i(e)))for(var o=0;o<t.length;o++){var c=t[o];g(e,c,r,n,a)}},g=function(e,t,r,n,a){"string"!=typeof e&&(e instanceof Object||i(e))&&(o(e[t])||(null!=e[t]&&(void 0===n||n>0)&&p(e[t],r,void 0!==n?n-1:n),_(e,t,r,n),a&&(void 0===n||n>0)&&$(e,t,r,n)))},v=function(e,t,r){for(var n in t)t.hasOwnProperty(n)&&S(e,t[n],r)},d=[],y=null;function w(){y=null;for(var e=0;e<d.length;e++)d[e]();d.length=0}var m=function(){return y||(y=setTimeout(w)),y},j=function(e){null==y&&m(),d[d.length]=e},b=function(e,t,r,n){var a=null,o=-1,c=i(e);p(e,function(r,n,i,u){var s=m();if(o!==s&&(o=s,(a={type:"update"}).value=e,a.splices=null,j(function(){t.call(this,a),a=null})),c&&e===this&&null!==a){if("pop"===n||"shift"===n)i=[],u=[u];else if("push"===n||"unshift"===n)i=[i],u=[];else if("splice"!==n)return;a.splices||(a.splices=[]),a.splices[a.splices.length]={index:r,deleteCount:u?u.length:0,addedCount:i?i.length:0,added:i,deleted:u}}},1==r?void 0:0,n)},_=function(t,r,n,a){var o=!1,u=i(t);t.watchers||(l(t,"watchers",{}),u&&H(t,function(e,n,o,u){if(T(t,e,n,o,u),0!==a&&o&&(c(o)||i(o))){var s,l,f,h,g=t.watchers[r];for((h=t.watchers.__watchall__)&&(g=g?g.concat(h):h),f=g?g.length:0,s=0;s<f;s++)if("splice"!==n)p(o,g[s],void 0===a?a:a-1);else for(l=0;l<o.length;l++)p(o[l],g[s],void 0===a?a:a-1)}})),t.watchers[r]||(t.watchers[r]=[],u||(o=!0));for(var s=0;s<t.watchers[r].length;s++)if(t.watchers[r][s]===n)return;if(t.watchers[r].push(n),o){var h=t[r],g=function(n,o){var u=h;if(h=n,0!==a&&t[r]&&(c(t[r])||i(t[r]))&&!t[r].watchers){var s,l=t.watchers[r].length;for(s=0;s<l;s++)p(t[r],t.watchers[r][s],void 0===a?a:a-1)}Q(t,r)?x(t,r):e.noMore||u!==n&&(o?T(t,r,"set",n,u):P(t,r,"set",n,u),e.noMore=!1)};e.useDirtyCheck?f(t,r,g):function(e,t,r,n){try{Object.defineProperty(e,t,{get:r,set:function(e){n.call(this,e,!0)},enumerable:!0,configurable:!0})}catch(a){try{Object.prototype.__defineGetter__.call(e,t,r),Object.prototype.__defineSetter__.call(e,t,function(e){n.call(this,e,!0)})}catch(r){f(e,t,n)}}}(t,r,function(){return h},g)}},P=function(e,t,r,n,a){if(void 0!==t){var o,i,c=e.watchers[t];(i=e.watchers.__watchall__)&&(c=c?c.concat(i):i),o=c?c.length:0;for(var u=0;u<o;u++)c[u].call(e,t,r,n,a)}else for(var t in e)e.hasOwnProperty(t)&&P(e,t,r,n,a)},O=["pop","push","reverse","shift","sort","slice","unshift","splice"],M=function(e,t,r,n){l(e,r,function(){var a,o,i,c,u=0;if("splice"===r){var s=arguments[0],l=s+arguments[1];for(i=e.slice(s,l),o=[],a=2;a<arguments.length;a++)o[a-2]=arguments[a];u=s}else o=arguments.length>0?arguments[0]:void 0;return c=t.apply(e,arguments),"slice"!==r&&("pop"===r?(i=c,u=e.length):"push"===r?u=e.length-1:"shift"===r?i=c:"unshift"!==r&&void 0===o&&(o=c),n.call(e,u,r,o,i)),c})},H=function(e,t){if(o(t)&&e&&!(e instanceof String)&&i(e))for(var r,n=O.length;n--;)M(e,e[r=O[n]],r,t)},S=function(e,t,r){if(t){if(e.watchers&&e.watchers[t])if(void 0===r)delete e.watchers[t];else for(var n=0;n<e.watchers[t].length;n++){e.watchers[t][n]==r&&e.watchers[t].splice(n,1)}}else delete e.watchers;I(e,t,r),k(e,t)},Q=function(e,t){return e.watchers&&(e.watchers.__wjs_suspend__||e.watchers["__wjs_suspend__"+t])},x=function(e,t){j(function(){delete e.watchers.__wjs_suspend__,delete e.watchers["__wjs_suspend__"+t]})},N=null,T=function(e,t,r,a,o){n[n.length]={obj:e,prop:t,mode:r,newval:a,oldval:o},null===N&&(N=setTimeout(C))},C=function(){var e=null;N=null;for(var t=0;t<n.length;t++)e=n[t],P(e.obj,e.prop,e.mode,e.newval,e.oldval);e&&(n=[],e=null)},V=function(e,t){var r,n=!0;if(e!==t)if(c(e)){for(r in e)if((a||"watchers"!==r)&&e[r]!==t[r]){n=!1;break}}else n=!1;return n},$=function(e,r,n,a){var o;o=s("$$watchlengthsubjectroot"===r?e:e[r]),t.push({obj:e,prop:r,actual:o,watcher:n,level:a})},I=function(e,r,n){for(var a=0;a<t.length;a++){var o=t[a];o.obj==e&&(r&&o.prop!=r||n&&o.watcher!=n||t.splice(a--,1))}},k=function(e,t){for(var n=0;n<r.length;n++){var a=r[n],o=a.object.watchers;a.object==e&&(!t||a.prop==t)&&o&&(!t||!o[t]||0==o[t].length)&&r.splice(n--,1)}};return setInterval(function(){for(var e=0;e<t.length;e++){var n=t[e];if("$$watchlengthsubjectroot"===n.prop){((a=u(n.obj,n.actual)).added.length||a.removed.length)&&(a.added.length&&h(n.obj,a.added,n.watcher,n.level-1,!0),n.watcher.call(n.obj,"root","differentattr",a,n.actual)),n.actual=s(n.obj)}else{var a;if((a=u(n.obj[n.prop],n.actual)).added.length||a.removed.length){if(a.added.length)for(var o=0;o<n.obj.watchers[n.prop].length;o++)h(n.obj[n.prop],a.added,n.obj.watchers[n.prop][o],n.level-1,!0);P(n.obj,n.prop,"differentattr",a,n.actual)}n.actual=s(n.obj[n.prop])}}var i,c;if(r.length>0)for(e=0;e<r.length;e++)c=(i=r[e]).object[i.prop],V(i.orig,c)||(i.orig=s(c),i.callback(c))},50),e.watch=function(){o(arguments[1])?p.apply(this,arguments):i(arguments[1])?h.apply(this,arguments):g.apply(this,arguments)},e.unwatch=function(){o(arguments[1])?function(e,t){if(!(e instanceof String)&&(e instanceof Object||i(e)))if(i(e)){for(var r=["__watchall__"],n=0;n<e.length;n++)r.push(n);v(e,r,t)}else{var a=function(e){var r=[];for(var n in e)e.hasOwnProperty(n)&&(e[n]instanceof Object?a(e[n]):r.push(n));v(e,r,t)};a(e)}}.apply(this,arguments):i(arguments[1])?v.apply(this,arguments):S.apply(this,arguments)},e.callWatchers=P,e.suspend=function(e,t){if(e.watchers){var r="__wjs_suspend__"+(void 0!==t?t:"");e.watchers[r]=!0}},e.onChange=function(){(o(arguments[2])?function(e,t,r,n,a){e&&t&&(g(e,t,function(e,t,o,u){var s={type:"update"};s.value=o,s.oldvalue=u,(n&&c(o)||i(o))&&b(o,r,n,a),r.call(this,s)},0),(n&&c(e[t])||i(e[t]))&&b(e[t],r,n,a))}:b).apply(this,arguments)},e}()},function(e,t,r){"use strict";jQuery.vpage.modelName=function(e){return void 0===e.vpage?null:e.vpage}},function(e,t,r){"use strict";var n=function(e){return e&&e.__esModule?e:{default:e}}(r(0)),a=n.default.watch;n.default.unwatch,n.default.callWatchers,function(e){e.vpage.listenStorage=function(){a(e.vpage.storage,"currentHistoryModelName",function(t,r,n,a){e.vpage.callModel(n,e.vpage.storage.currentHistoryVpageParams)}),a(e.vpage.storage,"currentHashModelName",function(t,r,n,a){e.vpage.callModel(n,e.vpage.storage.currentHashVpageParams)})}}(jQuery)},function(e,t,r){"use strict";!function(e){e.vpage.initModels=function(t){e.vpage.storage.models=e.extend({default:function(){}},t)}}(jQuery)},function(e,t,r){"use strict";!function(e){e.vpage.setStorage=function(t){e.vpage.storage=e.extend(e.vpage.storage,t)}}(jQuery)},function(e,t,r){"use strict";!function(e){e.vpage.helper=new function(){this.initStorage=function(){e.vpage.storage={models:{},triggerType:null,currentHistoryModelName:!1,currentHistoryVpageParams:{},currentHashModelName:!1,currentHashVpageParams:{}}},this.convertQueryStringToObject=function(e){var t=e.substring(1);return JSON.parse('{"'+decodeURI(t).replace(/"/g,'\\"').replace(/&/g,'","').replace(/=/g,'":"')+'"}')},this.loadHistoryFromQuery=function(t){var r=e.vpage.getUrlParams(),n=e.vpage.modelName(r);if(null===n)return e.vpage.setStorage({currentHistoryModelName:"default",currentHistoryVpageParams:{},triggerType:t}),!1;e.vpage.existModel(n,function(){var r=e.vpage.getUrlParams();e.vpage.setStorage({currentHistoryModelName:n,currentHistoryVpageParams:r,triggerType:t})})},this.loadHash=function(n){var a,o=window.location.hash;if(""===o)return!1;var i=o.split("/"),c=r();e.each(c,function(e,r){var n=r.split("/");return!1===(a=t(r,n,i)).matchModelName}),e.vpage.setStorage({currentHashModelName:a.matchModelName,currentHashVpageParams:a.matchParams,triggerType:n})};var t=function(t,r,n){var a=!1,o={};return e.each(r,function(e,r){if(0==e&&r!=n[e])return!1;if(r==n[e])return!0;if(r.indexOf(":")<0)return!1;var i=r.slice(1);return!1===a&&(a=t),o[i]=n[e],!0}),{matchModelName:a,matchParams:o}},r=function(){var t=[];return e.each(e.vpage.storage.models,function(e,r){if(e.indexOf("#")<0)return!0;t.push(e)}),t};this.onPopState=function(){var e=this;window.onpopstate=function(){e.loadHistoryFromQuery("onPop")}},this.onHashChange=function(){window.onhashchange=function(){e.vpage.setStorage({currentHashModelName:"--autoSetForOnHashChange",currentHashVpageParams:{},triggerType:"onPop"}),e.vpage.helper.loadHash("onPop"),"--autoSetForOnHashChange"===e.vpage.storage.currentHashModelName&&e.vpage.setStorage({currentHashModelName:"noneHash",currentHashVpageParams:{},triggerType:"onPop"})}},this.segments=function(t,r){var n=(void 0===r?window.location.pathname:r).split("/"),a=[];return e.each(t,function(e,t){if(void 0===n[t])return!1;a.push(n[t])}),a.join("/")}}}(jQuery)},function(e,t,r){"use strict";!function(e){e.vpage.goto=function(t,r,n){return!1!==e.vpage.isInit&&(void 0===n&&(n=""),!1!==e.vpage.existModel(t,function(){var a=e.vpage.getMixParams(t,r),o=e.param(a);e.vpage.historyPush({storage:a,url:n+"?"+o,title:a.title}),e.vpage.setStorage({currentHistoryModelName:t,currentHistoryVpageParams:a})}))}}(jQuery)},function(e,t,r){"use strict";!function(e){e.vpage.callModel=function(t,r){if(void 0===e.vpage.storage.models[t])return!1;var n=e.vpage.storage.triggerType;e.vpage.storage.models[t].call(this,r,n)}}(jQuery)},function(e,t,r){"use strict";var n=function(e){return e&&e.__esModule?e:{default:e}}(r(0));n.default.watch;var a=n.default.unwatch;n.default.callWatchers,function(e){e.vpage.destroy=function(){return a(e.vpage.storage,"currentHistoryModelName"),e.vpage.helper.initStorage(),e.vpage.isInit=!1,!0}}(jQuery)},function(e,t,r){"use strict";jQuery.vpage.getUrlParams=function(e){for(var t,r={},n=window.location.href.slice(window.location.href.indexOf("?")+1).split("&"),a=0;a<n.length;a++){if(void 0===(t=n[a].split("="))[1])return!1;var o=t[0],i=t[1];i=i.split("#")[0],r[o]=decodeURIComponent(i)}return e?r[e]:r}},function(e,t,r){"use strict";!function(e){e.vpage.getMixParams=function(t,r){var n={vpage:t};return e.extend(!0,n,r),n}}(jQuery)},function(e,t,r){"use strict";jQuery.vpage.historyPush=function(e){history.pushState(e.storage,e.title,e.url)}},function(e,t,r){"use strict";!function(e){e.vpage.existModel=function(t,r){return void 0!==e.vpage.storage.models[t]&&(r.call(this),!0)}}(jQuery)},function(e,t,r){"use strict";!function(e){e.vpage.listenDom=function(){e("body").on("click","[data-vpage]",function(t){t.preventDefault();var r=t.currentTarget.nodeName,n=e(this).attr("data-vpage");if("A"===r)var a=e(this).attr("href");else a=e(this).attr("data-href");var o=a.split("?"),i=o[0],c=o[1],u=void 0===c?{}:e.vpage.helper.convertQueryStringToObject("?"+c);e.vpage.goto(n,u,i)})}}(jQuery)},function(e,t,r){"use strict";!function(e){e.vpage.router=function(t){e.vpage.isInit=!0,e.vpage.helper.initStorage(),e.vpage.initModels(t),e.vpage.listenStorage(),e.vpage.helper.loadHistoryFromQuery("onLoad"),e.vpage.helper.loadHash("onLoad"),e.vpage.helper.onPopState(),e.vpage.helper.onHashChange()}}(jQuery)},function(e,t,r){"use strict";!function(e){e.vpage={version:"2.0.0",isInit:!1,storage:{}},e.vpage.init=function(){e.vpage.listenDom()}}(jQuery)},function(e,t,r){"use strict";r(15),r(14),r(13),r(12),r(11),r(10),r(9),r(8),r(7),r(6),r(5),r(4),r(3),r(2),r(1),$(function(){$.vpage.init()})}]);
//# sourceMappingURL=jquery.vpage.min.js.map