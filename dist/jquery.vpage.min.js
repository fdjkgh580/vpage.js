!function(e){var t={};function r(n){if(t[n])return t[n].exports;var a=t[n]={i:n,l:!1,exports:{}};return e[n].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)r.d(n,a,function(t){return e[t]}.bind(null,a));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=1)}([function(e,t,r){"use strict";e.exports=function(){var e={noMore:!1,useDirtyCheck:!1,preserveExistingSetters:!1},t=[],r=[],n=[],a=!1;try{a=Object.defineProperty&&Object.defineProperty({},"x",{})}catch(e){}var o=function(e){return e&&"[object Function]"=={}.toString.call(e)},i=function(e){return"[object Array]"===Object.prototype.toString.call(e)},s=function(e){return"[object Object]"==={}.toString.apply(e)},c=function(e,t){var r=[],n=[];if("string"!=typeof e&&"string"!=typeof t){if(i(e)&&t)for(var a=0;a<e.length;a++)void 0===t[a]&&r.push(a);else for(var a in e)e.hasOwnProperty(a)&&t&&!t.hasOwnProperty(a)&&r.push(a);if(i(t)&&e)for(var o=0;o<t.length;o++)void 0===e[o]&&n.push(o);else for(var o in t)t.hasOwnProperty(o)&&e&&!e.hasOwnProperty(o)&&n.push(o)}return{added:r,removed:n}},u=function(e){if(null==e||"object"!=typeof e)return e;var t=e.constructor();for(var r in e)t[r]=e[r];return t},l=function(e,t,r){try{Object.defineProperty(e,t,{enumerable:!1,configurable:!0,writable:!1,value:r})}catch(n){e[t]=r}},p=function(e,t,n){r[r.length]={prop:t,object:e,orig:u(e[t]),callback:n}},f=function(e,t,r,n){if("string"!=typeof e&&(e instanceof Object||i(e))){if(i(e)){if(_(e,"__watchall__",t,r),void 0===r||0<r)for(var o=0;o<e.length;o++)f(e[o],t,r,n)}else{var s=[];for(o in e)"$val"==o||!a&&"watchers"===o||Object.prototype.hasOwnProperty.call(e,o)&&s.push(o);g(e,s,t,r,n)}n&&$(e,"$$watchlengthsubjectroot",t,r)}},g=function(e,t,r,n,a){if("string"!=typeof e&&(e instanceof Object||i(e)))for(var o=0;o<t.length;o++){var s=t[o];h(e,s,r,n,a)}},h=function(e,t,r,n,a){"string"!=typeof e&&(e instanceof Object||i(e))&&(o(e[t])||(null!=e[t]&&(void 0===n||0<n)&&f(e[t],r,void 0!==n?n-1:n),_(e,t,r,n),a&&(void 0===n||0<n)&&$(e,t,r,n)))},v=function(e,t,r){for(var n in t)t.hasOwnProperty(n)&&S(e,t[n],r)},d=[],y=null;function m(){y=null;for(var e=0;e<d.length;e++)d[e]();d.length=0}var w=function(){return y||(y=setTimeout(m)),y},j=function(e){null==y&&w(),d[d.length]=e},b=function(e,t,r,n){var a=null,o=-1,s=i(e);f(e,function(r,n,i,c){var u=w();if(o!==u&&(o=u,(a={type:"update"}).value=e,a.splices=null,j(function(){t.call(this,a),a=null})),s&&e===this&&null!==a){if("pop"===n||"shift"===n)i=[],c=[c];else if("push"===n||"unshift"===n)i=[i],c=[];else if("splice"!==n)return;a.splices||(a.splices=[]),a.splices[a.splices.length]={index:r,deleteCount:c?c.length:0,addedCount:i?i.length:0,added:i,deleted:c}}},1==r?void 0:0,n)},_=function(t,r,n,a){var o=!1,c=i(t);t.watchers||(l(t,"watchers",{}),c&&M(t,function(e,n,o,c){if(T(t,e,n,o,c),0!==a&&o&&(s(o)||i(o))){var u,l,p,g,h=t.watchers[r];for((g=t.watchers.__watchall__)&&(h=h?h.concat(g):g),p=h?h.length:0,u=0;u<p;u++)if("splice"!==n)f(o,h[u],void 0===a?a:a-1);else for(l=0;l<o.length;l++)f(o[l],h[u],void 0===a?a:a-1)}})),t.watchers[r]||(t.watchers[r]=[],c||(o=!0));for(var u=0;u<t.watchers[r].length;u++)if(t.watchers[r][u]===n)return;if(t.watchers[r].push(n),o){var g=t[r],h=function(n,o){var c=g;if(g=n,0!==a&&t[r]&&(s(t[r])||i(t[r]))&&!t[r].watchers){var u,l=t.watchers[r].length;for(u=0;u<l;u++)f(t[r],t.watchers[r][u],void 0===a?a:a-1)}N(t,r)?x(t,r):e.noMore||c!==n&&(o?T(t,r,"set",n,c):P(t,r,"set",n,c),e.noMore=!1)};e.useDirtyCheck?p(t,r,h):function(t,r,n,a){try{var o=function(t,r){if(e.preserveExistingSetters)return Object.getOwnPropertyDescriptor(t,r).set}(t,r);Object.defineProperty(t,r,{get:n,set:function(e){a.call(this,e,!0),o&&o(e)},enumerable:!0,configurable:!0})}catch(e){try{Object.prototype.__defineGetter__.call(t,r,n),Object.prototype.__defineSetter__.call(t,r,function(e){a.call(this,e,!0)})}catch(e){p(t,r,a)}}}(t,r,function(){return g},h)}},P=function(e,t,r,n,a){if(void 0!==t){var o,i,s=e.watchers[t];(i=e.watchers.__watchall__)&&(s=s?s.concat(i):i),o=s?s.length:0;for(var c=0;c<o;c++)s[c].call(e,t,r,n,a)}else for(var t in e)e.hasOwnProperty(t)&&P(e,t,r,n,a)},H=["pop","push","reverse","shift","sort","slice","unshift","splice"],O=function(e,t,r,n){l(e,r,function(){var a,o,i,s,c=0;if("splice"===r){var u=arguments[0],l=u+arguments[1];for(i=e.slice(u,l),o=[],a=2;a<arguments.length;a++)o[a-2]=arguments[a];c=u}else o=0<arguments.length?arguments[0]:void 0;return s=t.apply(e,arguments),"slice"!==r&&("pop"===r?(i=s,c=e.length):"push"===r?c=e.length-1:"shift"===r?i=s:"unshift"!==r&&void 0===o&&(o=s),n.call(e,c,r,o,i)),s})},M=function(e,t){if(o(t)&&e&&!(e instanceof String)&&i(e))for(var r,n=H.length;n--;)O(e,e[r=H[n]],r,t)},S=function(e,t,r){if(t){if(e.watchers&&e.watchers[t])if(void 0===r)delete e.watchers[t];else for(var n=0;n<e.watchers[t].length;n++){e.watchers[t][n]==r&&e.watchers[t].splice(n,1)}}else delete e.watchers;I(e,t,r),k(e,t)},N=function(e,t){return e.watchers&&(e.watchers.__wjs_suspend__||e.watchers["__wjs_suspend__"+t])},x=function(e,t){j(function(){delete e.watchers.__wjs_suspend__,delete e.watchers["__wjs_suspend__"+t]})},Q=null,T=function(e,t,r,a,o){n[n.length]={obj:e,prop:t,mode:r,newval:a,oldval:o},null===Q&&(Q=setTimeout(V))},V=function(){var e=null;Q=null;for(var t=0;t<n.length;t++)e=n[t],P(e.obj,e.prop,e.mode,e.newval,e.oldval);e&&(n=[],e=null)},C=function(e,t){var r,n=!0;if(e!==t)if(s(e)){for(r in e)if((a||"watchers"!==r)&&e[r]!==t[r]){n=!1;break}}else n=!1;return n},$=function(e,r,n,a){var o;o=u("$$watchlengthsubjectroot"===r?e:e[r]),t.push({obj:e,prop:r,actual:o,watcher:n,level:a})},I=function(e,r,n){for(var a=0;a<t.length;a++){var o=t[a];o.obj==e&&(r&&o.prop!=r||n&&o.watcher!=n||t.splice(a--,1))}},k=function(e,t){for(var n=0;n<r.length;n++){var a=r[n],o=a.object.watchers;a.object==e&&(!t||a.prop==t)&&o&&(!t||!o[t]||0==o[t].length)&&r.splice(n--,1)}};return setInterval(function(){for(var e=0;e<t.length;e++){var n=t[e];if("$$watchlengthsubjectroot"===n.prop){((a=c(n.obj,n.actual)).added.length||a.removed.length)&&(a.added.length&&g(n.obj,a.added,n.watcher,n.level-1,!0),n.watcher.call(n.obj,"root","differentattr",a,n.actual)),n.actual=u(n.obj)}else{var a;if((a=c(n.obj[n.prop],n.actual)).added.length||a.removed.length){if(a.added.length)for(var o=0;o<n.obj.watchers[n.prop].length;o++)g(n.obj[n.prop],a.added,n.obj.watchers[n.prop][o],n.level-1,!0);P(n.obj,n.prop,"differentattr",a,n.actual)}n.actual=u(n.obj[n.prop])}}var i,s;if(0<r.length)for(e=0;e<r.length;e++)s=(i=r[e]).object[i.prop],C(i.orig,s)||(i.orig=u(s),i.callback(s))},50),e.watch=function(){o(arguments[1])?f.apply(this,arguments):i(arguments[1])?g.apply(this,arguments):h.apply(this,arguments)},e.unwatch=function(){o(arguments[1])?function(e,t){if(!(e instanceof String)&&(e instanceof Object||i(e)))if(i(e)){for(var r=["__watchall__"],n=0;n<e.length;n++)r.push(n);v(e,r,t)}else{var a=function(e){var r=[];for(var n in e)e.hasOwnProperty(n)&&(e[n]instanceof Object?a(e[n]):r.push(n));v(e,r,t)};a(e)}}.apply(this,arguments):i(arguments[1])?v.apply(this,arguments):S.apply(this,arguments)},e.callWatchers=P,e.suspend=function(e,t){if(e.watchers){var r="__wjs_suspend__"+(void 0!==t?t:"");e.watchers[r]=!0}},e.onChange=function(){(o(arguments[2])?function(e,t,r,n,a){e&&t&&(h(e,t,function(e,t,o,c){var u={type:"update"};u.value=o,u.oldvalue=c,(n&&s(o)||i(o))&&b(o,r,n,a),r.call(this,u)},0),(n&&s(e[t])||i(e[t]))&&b(e[t],r,n,a))}:b).apply(this,arguments)},e}()},function(e,t,r){"use strict";r(2),r(3),r(4),r(5),r(6),r(7),r(8),r(9),r(10),r(11),r(12),r(13),r(14),r(15),r(16),$(function(){$.vpage.init()})},function(e,t,r){"use strict";var n;(n=jQuery).vpage={version:"2.3.2",isInit:!1,storage:{}},n.vpage.init=function(){n.vpage.listenDom()}},function(e,t,r){"use strict";var n;(n=jQuery).vpage.router=function(e){n.vpage.isInit=!0,n.vpage.helper.initStorage(),n.vpage.initModels(e),n.vpage.listenStorage(),n.vpage.helper.loadHistoryFromQuery("onLoad"),n.vpage.helper.loadHash("onLoad"),n.vpage.helper.onPopState(),n.vpage.helper.onHashChange()}},function(e,t,r){"use strict";var n;(n=jQuery).vpage.listenDom=function(){n("body").on("click","[data-vpage]",function(e){e.preventDefault();var t=e.currentTarget.nodeName,r=n(this).attr("data-vpage");if("A"===t)var a=n(this).attr("href");else a=n(this).attr("data-href");var o=a.split("?"),i=o[0],s=o[1],c=void 0===s?{}:n.vpage.helper.convertQueryStringToObject("?"+s);n.vpage.goto(r,c,i)})}},function(e,t,r){"use strict";var n;(n=jQuery).vpage.existModel=function(e,t){return void 0!==n.vpage.storage.models[e]&&(t.call(this),!0)}},function(e,t,r){"use strict";jQuery.vpage.historyPush=function(e){history.pushState(e.storage,e.title,e.url)}},function(e,t,r){"use strict";var n;(n=jQuery).vpage.getMixParams=function(e,t){var r={vpage:e};return n.extend(!0,r,t),r}},function(e,t,r){"use strict";jQuery.vpage.getUrlParams=function(e){for(var t,r={},n=window.location.href.slice(window.location.href.indexOf("?")+1).split("&"),a=0;a<n.length;a++){if(void 0===(t=n[a].split("="))[1])return!1;var o=t[0],i=t[1];i=i.split("#")[0],r[o]=decodeURIComponent(i)}return e?r[e]:r}},function(e,t,r){"use strict";var n,a=(n=r(0))&&n.__esModule?n:{default:n};a.default.watch;var o,i=a.default.unwatch;a.default.callWatchers,(o=jQuery).vpage.destroy=function(){return i(o.vpage.storage,"currentHistoryModelName"),o.vpage.helper.initStorage(),!(o.vpage.isInit=!1)}},function(e,t,r){"use strict";var n;(n=jQuery).vpage.callModel=function(e,t){if(void 0===n.vpage.storage.models[e])return!1;var r=n.vpage.storage.triggerType;n.vpage.storage.models[e].call(this,t,r)}},function(e,t,r){"use strict";var n;(n=jQuery).vpage.goto=function(e,t,r){return!1!==n.vpage.isInit&&(void 0===r&&(r=""),!1!==n.vpage.existModel(e,function(){var a=n.vpage.getMixParams(e,t),o=n.param(a);n.vpage.historyPush({storage:a,url:r+"?"+o,title:a.title}),n.vpage.setStorage({currentHistoryModelName:e,currentHistoryVpageParams:a})}))}},function(e,t,r){"use strict";var n;(n=jQuery).vpage.helper=new function(){this.initStorage=function(){n.vpage.storage={models:{},triggerType:null,currentHistoryModelName:!1,currentHistoryVpageParams:{},currentHashModelName:!1,currentHashVpageParams:{}}},this.convertQueryStringToObject=function(e){var t=e.substring(1);return JSON.parse('{"'+decodeURI(t).replace(/"/g,'\\"').replace(/&/g,'","').replace(/=/g,'":"')+'"}')},this.loadHistoryFromQuery=function(e){var t=n.vpage.getUrlParams(),r=n.vpage.modelName(t);if(null===r)return n.vpage.setStorage({currentHistoryModelName:"default",currentHistoryVpageParams:{},triggerType:e}),!1;n.vpage.existModel(r,function(){var t=n.vpage.getUrlParams();n.vpage.setStorage({currentHistoryModelName:r,currentHistoryVpageParams:t,triggerType:e})})},this.loadHash=function(r){var a,o=window.location.hash;if(""===o)return n.vpage.setStorage({currentHashModelName:"noneHash",currentHashVpageParams:{},triggerType:r}),!1;var i=o.split("/"),s=i.length,c=t();if(-1<n.inArray(o,c)){var u=o;n.vpage.setStorage({currentHashModelName:u,currentHashVpageParams:{},triggerType:r})}else{if(n.each(c,function(t,r){var n=r.split("/");return!1===(a=e(r,n,i,s)).matchModelName}),!1===a.matchModelName)return n.vpage.setStorage({currentHashModelName:"noneHash",currentHashVpageParams:a.matchParams,triggerType:r}),!1;n.vpage.setStorage({currentHashModelName:a.matchModelName,currentHashVpageParams:a.matchParams,triggerType:r})}};var e=function(e,t,r,a){var o=!1,i={};return t.length!==a||n.each(t,function(n,a){if(0==n&&a!=r[n])return!1;if(n+1<=t.length){if(a==r[n])return!0;if(a.indexOf(":")<0)return!1}var s=a.slice(1);return!1===o&&(o=e),i[s]=r[n],!0}),{matchModelName:o,matchParams:i}},t=function(){var e=[];return n.each(n.vpage.storage.models,function(t,r){if(t.indexOf("#")<0)return!0;e.push(t)}),e};this.onPopState=function(){var e=this;window.onpopstate=function(){e.loadHistoryFromQuery("onPop")}},this.onHashChange=function(){window.onhashchange=function(){n.vpage.setStorage({currentHashModelName:"--autoSetForOnHashChange",currentHashVpageParams:{},triggerType:"onPop"}),n.vpage.helper.loadHash("onPop"),"--autoSetForOnHashChange"===n.vpage.storage.currentHashModelName&&n.vpage.setStorage({currentHashModelName:"noneHash",currentHashVpageParams:{},triggerType:"onPop"})}},this.segments=function(e,t){var r=(void 0===t?window.location.pathname:t).split("/"),a=[];return n.each(e,function(e,t){if(void 0===r[t])return!1;a.push(r[t])}),a.join("/")}}},function(e,t,r){"use strict";var n;(n=jQuery).vpage.setStorage=function(e){n.vpage.storage=n.extend(n.vpage.storage,e)}},function(e,t,r){"use strict";var n;(n=jQuery).vpage.initModels=function(e){n.vpage.storage.models=n.extend({default:function(){}},e)}},function(e,t,r){"use strict";var n,a,o=(n=r(0))&&n.__esModule?n:{default:n},i=o.default.watch;o.default.unwatch,o.default.callWatchers,(a=jQuery).vpage.listenStorage=function(){i(a.vpage.storage,"currentHistoryModelName",function(e,t,r,n){a.vpage.callModel(r,a.vpage.storage.currentHistoryVpageParams)}),i(a.vpage.storage,"currentHashModelName",function(e,t,r,n){a.vpage.callModel(r,a.vpage.storage.currentHashVpageParams)})}},function(e,t,r){"use strict";jQuery.vpage.modelName=function(e){return void 0===e.vpage?null:e.vpage}}]);
//# sourceMappingURL=jquery.vpage.min.js.map