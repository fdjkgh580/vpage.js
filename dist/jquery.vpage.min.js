!function(e){var t={};function r(a){if(t[a])return t[a].exports;var n=t[a]={i:a,l:!1,exports:{}};return e[a].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=e,r.c=t,r.d=function(e,t,a){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)r.d(a,n,function(t){return e[t]}.bind(null,n));return a},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=1)}([function(e,t,r){"use strict";e.exports=function(){var e={noMore:!1,useDirtyCheck:!1,preserveExistingSetters:!1},t=[],r=[],a=[],n=!1;try{n=Object.defineProperty&&Object.defineProperty({},"x",{})}catch(e){}var o=function(e){return e&&"[object Function]"=={}.toString.call(e)},i=function(e){return"[object Array]"===Object.prototype.toString.call(e)},s=function(e){return"[object Object]"==={}.toString.apply(e)},c=function(e,t){var r=[],a=[];if("string"!=typeof e&&"string"!=typeof t){if(i(e)&&t)for(var n=0;n<e.length;n++)void 0===t[n]&&r.push(n);else for(var n in e)e.hasOwnProperty(n)&&t&&!t.hasOwnProperty(n)&&r.push(n);if(i(t)&&e)for(var o=0;o<t.length;o++)void 0===e[o]&&a.push(o);else for(var o in t)t.hasOwnProperty(o)&&e&&!e.hasOwnProperty(o)&&a.push(o)}return{added:r,removed:a}},l=function(e){if(null==e||"object"!=typeof e)return e;var t=e.constructor();for(var r in e)t[r]=e[r];return t},u=function(e,t,r){try{Object.defineProperty(e,t,{enumerable:!1,configurable:!0,writable:!1,value:r})}catch(a){e[t]=r}},p=function(e,t,a){r[r.length]={prop:t,object:e,orig:l(e[t]),callback:a}},f=function(e,t,r,a){if("string"!=typeof e&&(e instanceof Object||i(e))){if(i(e)){if(_(e,"__watchall__",t,r),void 0===r||0<r)for(var o=0;o<e.length;o++)f(e[o],t,r,a)}else{var s=[];for(o in e)"$val"==o||!n&&"watchers"===o||Object.prototype.hasOwnProperty.call(e,o)&&s.push(o);g(e,s,t,r,a)}a&&k(e,"$$watchlengthsubjectroot",t,r)}},g=function(e,t,r,a,n){if("string"!=typeof e&&(e instanceof Object||i(e)))for(var o=0;o<t.length;o++){var s=t[o];h(e,s,r,a,n)}},h=function(e,t,r,a,n){"string"!=typeof e&&(e instanceof Object||i(e))&&(o(e[t])||(null!=e[t]&&(void 0===a||0<a)&&f(e[t],r,void 0!==a?a-1:a),_(e,t,r,a),n&&(void 0===a||0<a)&&k(e,t,r,a)))},v=function(e,t,r){for(var a in t)t.hasOwnProperty(a)&&S(e,t[a],r)},d=[],y=null;function w(){y=null;for(var e=0;e<d.length;e++)d[e]();d.length=0}var m=function(){return y||(y=setTimeout(w)),y},j=function(e){null==y&&m(),d[d.length]=e},b=function(e,t,r,a){var n=null,o=-1,s=i(e);f(e,function(r,a,i,c){var l=m();if(o!==l&&(o=l,(n={type:"update"}).value=e,n.splices=null,j(function(){t.call(this,n),n=null})),s&&e===this&&null!==n){if("pop"===a||"shift"===a)i=[],c=[c];else if("push"===a||"unshift"===a)i=[i],c=[];else if("splice"!==a)return;n.splices||(n.splices=[]),n.splices[n.splices.length]={index:r,deleteCount:c?c.length:0,addedCount:i?i.length:0,added:i,deleted:c}}},1==r?void 0:0,a)},_=function(t,r,a,n){var o=!1,c=i(t);t.watchers||(u(t,"watchers",{}),c&&M(t,function(e,a,o,c){if(T(t,e,a,o,c),0!==n&&o&&(s(o)||i(o))){var l,u,p,g,h=t.watchers[r];for((g=t.watchers.__watchall__)&&(h=h?h.concat(g):g),p=h?h.length:0,l=0;l<p;l++)if("splice"!==a)f(o,h[l],void 0===n?n:n-1);else for(u=0;u<o.length;u++)f(o[u],h[l],void 0===n?n:n-1)}})),t.watchers[r]||(t.watchers[r]=[],c||(o=!0));for(var l=0;l<t.watchers[r].length;l++)if(t.watchers[r][l]===a)return;if(t.watchers[r].push(a),o){var g=t[r],h=function(a,o){var c=g;if(g=a,0!==n&&t[r]&&(s(t[r])||i(t[r]))&&!t[r].watchers){var l,u=t.watchers[r].length;for(l=0;l<u;l++)f(t[r],t.watchers[r][l],void 0===n?n:n-1)}N(t,r)?x(t,r):e.noMore||c!==a&&(o?T(t,r,"set",a,c):P(t,r,"set",a,c),e.noMore=!1)};e.useDirtyCheck?p(t,r,h):function(t,r,a,n){try{var o=function(t,r){if(e.preserveExistingSetters)return Object.getOwnPropertyDescriptor(t,r).set}(t,r);Object.defineProperty(t,r,{get:a,set:function(e){n.call(this,e,!0),o&&o(e)},enumerable:!0,configurable:!0})}catch(e){try{Object.prototype.__defineGetter__.call(t,r,a),Object.prototype.__defineSetter__.call(t,r,function(e){n.call(this,e,!0)})}catch(e){p(t,r,n)}}}(t,r,function(){return g},h)}},P=function(e,t,r,a,n){if(void 0!==t){var o,i,s=e.watchers[t];(i=e.watchers.__watchall__)&&(s=s?s.concat(i):i),o=s?s.length:0;for(var c=0;c<o;c++)s[c].call(e,t,r,a,n)}else for(var t in e)e.hasOwnProperty(t)&&P(e,t,r,a,n)},H=["pop","push","reverse","shift","sort","slice","unshift","splice"],O=function(e,t,r,a){u(e,r,function(){var n,o,i,s,c=0;if("splice"===r){var l=arguments[0],u=l+arguments[1];for(i=e.slice(l,u),o=[],n=2;n<arguments.length;n++)o[n-2]=arguments[n];c=l}else o=0<arguments.length?arguments[0]:void 0;return s=t.apply(e,arguments),"slice"!==r&&("pop"===r?(i=s,c=e.length):"push"===r?c=e.length-1:"shift"===r?i=s:"unshift"!==r&&void 0===o&&(o=s),a.call(e,c,r,o,i)),s})},M=function(e,t){if(o(t)&&e&&!(e instanceof String)&&i(e))for(var r,a=H.length;a--;)O(e,e[r=H[a]],r,t)},S=function(e,t,r){if(t){if(e.watchers&&e.watchers[t])if(void 0===r)delete e.watchers[t];else for(var a=0;a<e.watchers[t].length;a++){e.watchers[t][a]==r&&e.watchers[t].splice(a,1)}}else delete e.watchers;D(e,t,r),$(e,t)},N=function(e,t){return e.watchers&&(e.watchers.__wjs_suspend__||e.watchers["__wjs_suspend__"+t])},x=function(e,t){j(function(){delete e.watchers.__wjs_suspend__,delete e.watchers["__wjs_suspend__"+t]})},Q=null,T=function(e,t,r,n,o){a[a.length]={obj:e,prop:t,mode:r,newval:n,oldval:o},null===Q&&(Q=setTimeout(C))},C=function(){var e=null;Q=null;for(var t=0;t<a.length;t++)e=a[t],P(e.obj,e.prop,e.mode,e.newval,e.oldval);e&&(a=[],e=null)},V=function(e,t){var r,a=!0;if(e!==t)if(s(e)){for(r in e)if((n||"watchers"!==r)&&e[r]!==t[r]){a=!1;break}}else a=!1;return a},k=function(e,r,a,n){var o;o=l("$$watchlengthsubjectroot"===r?e:e[r]),t.push({obj:e,prop:r,actual:o,watcher:a,level:n})},D=function(e,r,a){for(var n=0;n<t.length;n++){var o=t[n];o.obj==e&&(r&&o.prop!=r||a&&o.watcher!=a||t.splice(n--,1))}},$=function(e,t){for(var a=0;a<r.length;a++){var n=r[a],o=n.object.watchers;n.object==e&&(!t||n.prop==t)&&o&&(!t||!o[t]||0==o[t].length)&&r.splice(a--,1)}};return setInterval(function(){for(var e=0;e<t.length;e++){var a=t[e];if("$$watchlengthsubjectroot"===a.prop){((n=c(a.obj,a.actual)).added.length||n.removed.length)&&(n.added.length&&g(a.obj,n.added,a.watcher,a.level-1,!0),a.watcher.call(a.obj,"root","differentattr",n,a.actual)),a.actual=l(a.obj)}else{var n;if((n=c(a.obj[a.prop],a.actual)).added.length||n.removed.length){if(n.added.length)for(var o=0;o<a.obj.watchers[a.prop].length;o++)g(a.obj[a.prop],n.added,a.obj.watchers[a.prop][o],a.level-1,!0);P(a.obj,a.prop,"differentattr",n,a.actual)}a.actual=l(a.obj[a.prop])}}var i,s;if(0<r.length)for(e=0;e<r.length;e++)s=(i=r[e]).object[i.prop],V(i.orig,s)||(i.orig=l(s),i.callback(s))},50),e.watch=function(){o(arguments[1])?f.apply(this,arguments):i(arguments[1])?g.apply(this,arguments):h.apply(this,arguments)},e.unwatch=function(){o(arguments[1])?function(e,t){if(!(e instanceof String)&&(e instanceof Object||i(e)))if(i(e)){for(var r=["__watchall__"],a=0;a<e.length;a++)r.push(a);v(e,r,t)}else{var n=function(e){var r=[];for(var a in e)e.hasOwnProperty(a)&&(e[a]instanceof Object?n(e[a]):r.push(a));v(e,r,t)};n(e)}}.apply(this,arguments):i(arguments[1])?v.apply(this,arguments):S.apply(this,arguments)},e.callWatchers=P,e.suspend=function(e,t){if(e.watchers){var r="__wjs_suspend__"+(void 0!==t?t:"");e.watchers[r]=!0}},e.onChange=function(){(o(arguments[2])?function(e,t,r,a,n){e&&t&&(h(e,t,function(e,t,o,c){var l={type:"update"};l.value=o,l.oldvalue=c,(a&&s(o)||i(o))&&b(o,r,a,n),r.call(this,l)},0),(a&&s(e[t])||i(e[t]))&&b(e[t],r,a,n))}:b).apply(this,arguments)},e}()},function(e,t,r){"use strict";r(2),r(3),r(4),r(5),r(6),r(7),r(8),r(9),r(10),r(11),r(12),r(13),r(14),r(15),r(16),r(17),$(function(){$.vpage.init()})},function(e,t,r){"use strict";var a;(a=jQuery).vpage={version:"2.4.0",isInit:!1,storage:{},isDelayTriggerAlways:!1},a.vpage.init=function(){a.vpage.listenDom()}},function(e,t,r){"use strict";var a;(a=jQuery).vpage.router=function(e){return a.vpage.isInit=!0,a.vpage.helper.initStorage(),a.vpage.initModels(e),a.vpage.listenStorage(),a.vpage.helper.loadHistoryFromQuery("onLoad"),a.vpage.helper.loadHash("onLoad"),a.vpage.helper.onPopState(),a.vpage.helper.onHashChange(),this}},function(e,t,r){"use strict";var a;(a=jQuery).vpage.listenDom=function(){a("body").on("click","[data-vpage]",function(e){e.preventDefault();var t=e.currentTarget.nodeName,r=a(this).attr("data-vpage");if("A"===t)var n=a(this).attr("href");else n=a(this).attr("data-href");var o=n.split("?"),i=o[0],s=o[1],c=void 0===s?{}:a.vpage.helper.convertQueryStringToObject("?"+s);a.vpage.goto(r,c,i)})}},function(e,t,r){"use strict";var a;(a=jQuery).vpage.existModel=function(e,t){return void 0!==a.vpage.storage.models[e]&&(t.call(this),!0)}},function(e,t,r){"use strict";jQuery.vpage.historyPush=function(e){history.pushState(e.storage,e.title,e.url)}},function(e,t,r){"use strict";var a;(a=jQuery).vpage.getMixParams=function(e,t){var r={vpage:e};return a.extend(!0,r,t),r}},function(e,t,r){"use strict";jQuery.vpage.getUrlParams=function(e){for(var t,r={},a=window.location.href.slice(window.location.href.indexOf("?")+1).split("&"),n=0;n<a.length;n++){if(void 0===(t=a[n].split("="))[1])return!1;var o=t[0],i=t[1];i=i.split("#")[0],r[o]=decodeURIComponent(i)}return e?r[e]:r}},function(e,t,r){"use strict";var a,n=(a=r(0))&&a.__esModule?a:{default:a};n.default.watch;var o,i=n.default.unwatch;n.default.callWatchers,(o=jQuery).vpage.destroy=function(){return i(o.vpage.storage,"currentHistoryModelName"),o.vpage.helper.initStorage(),!(o.vpage.isInit=!1)}},function(e,t,r){"use strict";var a;(a=jQuery).vpage.callModel=function(e,t){if(void 0===a.vpage.storage.models[e])return!1;var r=a.vpage.storage.triggerType;a.vpage.storage.models[e].call(this,t,r)}},function(e,t,r){"use strict";var a;(a=jQuery).vpage.goto=function(e,t,r){return!1!==a.vpage.isInit&&(void 0===r&&(r=""),!1!==a.vpage.existModel(e,function(){var n=a.vpage.getMixParams(e,t),o=a.param(n);a.vpage.historyPush({storage:n,url:r+"?"+o,title:n.title}),a.vpage.setStorage({currentHistoryModelName:e,currentHistoryVpageParams:n})}))}},function(e,t,r){"use strict";var a;(a=jQuery).vpage.helper=new function(){this.initStorage=function(){a.vpage.storage={models:{},triggerType:null,currentHistoryModelName:!1,currentHistoryVpageParams:{},currentHashModelName:!1,currentHashVpageParams:{},alwaysCallback:function(){}}},this.convertQueryStringToObject=function(e){var t=e.substring(1);return JSON.parse('{"'+decodeURI(t).replace(/"/g,'\\"').replace(/&/g,'","').replace(/=/g,'":"')+'"}')},this.loadHistoryFromQuery=function(e){var t=this,r=a.vpage.getUrlParams(),n=a.vpage.modelName(r);if(null===n)return a.vpage.setStorage({currentHistoryModelName:"default",currentHistoryVpageParams:{},triggerType:e}),!1===a.vpage.isDelayTriggerAlways&&(a.vpage.isDelayTriggerAlways=!0),!1;a.vpage.existModel(n,function(){var r=a.vpage.getUrlParams();a.vpage.setStorage({currentHistoryModelName:n,currentHistoryVpageParams:r,triggerType:e}),a.vpage.storage.alwaysCallback.call(t,a.vpage.storage)})},this.loadHash=function(r){var n,o=window.location.hash;if(""===o)return a.vpage.setStorage({currentHashModelName:"noneHash",currentHashVpageParams:{},triggerType:r}),!1;var i=o.split("/"),s=i.length,c=t();if(-1<a.inArray(o,c)){var l=o;a.vpage.setStorage({currentHashModelName:l,currentHashVpageParams:{},triggerType:r})}else{if(a.each(c,function(t,r){var a=r.split("/");return!1===(n=e(r,a,i,s)).matchModelName}),!1===n.matchModelName)return a.vpage.setStorage({currentHashModelName:"noneHash",currentHashVpageParams:n.matchParams,triggerType:r}),!1;a.vpage.setStorage({currentHashModelName:n.matchModelName,currentHashVpageParams:n.matchParams,triggerType:r})}};var e=function(e,t,r,n){var o=!1,i={};return t.length!==n||a.each(t,function(a,n){if(0==a&&n!=r[a])return!1;if(a+1<=t.length){if(n==r[a])return!0;if(n.indexOf(":")<0)return!1}var s=n.slice(1);return!1===o&&(o=e),i[s]=r[a],!0}),{matchModelName:o,matchParams:i}},t=function(){var e=[];return a.each(a.vpage.storage.models,function(t,r){if(t.indexOf("#")<0)return!0;e.push(t)}),e};this.onPopState=function(){var e=this;window.onpopstate=function(){e.loadHistoryFromQuery("onPop")}},this.onHashChange=function(){var e=this;window.onhashchange=function(){a.vpage.setStorage({currentHashModelName:"--autoSetForOnHashChange",currentHashVpageParams:{},triggerType:"onPop"}),a.vpage.helper.loadHash("onPop"),"--autoSetForOnHashChange"===a.vpage.storage.currentHashModelName&&a.vpage.setStorage({currentHashModelName:"noneHash",currentHashVpageParams:{},triggerType:"onPop"}),a.vpage.storage.alwaysCallback.call(e,a.vpage.storage)}},this.segments=function(e,t){var r=(void 0===t?window.location.pathname:t).split("/"),n=[];return a.each(e,function(e,t){if(void 0===r[t])return!1;n.push(r[t])}),n.join("/")}}},function(e,t,r){"use strict";var a;(a=jQuery).vpage.setStorage=function(e){a.vpage.storage=a.extend(a.vpage.storage,e)}},function(e,t,r){"use strict";var a;(a=jQuery).vpage.initModels=function(e){a.vpage.storage.models=a.extend({default:function(){}},e)}},function(e,t,r){"use strict";var a,n,o=(a=r(0))&&a.__esModule?a:{default:a},i=o.default.watch;o.default.unwatch,o.default.callWatchers,(n=jQuery).vpage.listenStorage=function(){i(n.vpage.storage,"currentHistoryModelName",function(e,t,r,a){n.vpage.callModel(r,n.vpage.storage.currentHistoryVpageParams)}),i(n.vpage.storage,"currentHashModelName",function(e,t,r,a){n.vpage.callModel(r,n.vpage.storage.currentHashVpageParams)})}},function(e,t,r){"use strict";jQuery.vpage.modelName=function(e){return void 0===e.vpage?null:e.vpage}},function(e,t,r){"use strict";var a;(a=jQuery).vpage.always=function(e){a.vpage.setStorage({alwaysCallback:e}),!0===a.vpage.isDelayTriggerAlways&&a.vpage.storage.alwaysCallback.call(this,a.vpage.storage)}}]);
//# sourceMappingURL=jquery.vpage.min.js.map