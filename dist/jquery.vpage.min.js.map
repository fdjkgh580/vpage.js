{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./node_modules/melanke-watchjs/src/watch.js","webpack:///./src/index.js","webpack:///./src/jquery.vpage.init.js","webpack:///./src/jquery.vpage.router.js","webpack:///./src/jquery.vpage.listenDom.js","webpack:///./src/jquery.vpage.existModel.js","webpack:///./src/jquery.vpage.historyPush.js","webpack:///./src/jquery.vpage.getMixParams.js","webpack:///./src/jquery.vpage.getUrlParams.js","webpack:///./src/jquery.vpage.destroy.js","webpack:///./src/jquery.vpage.callModel.js","webpack:///./src/jquery.vpage.goto.js","webpack:///./src/jquery.vpage.helper.js","webpack:///./src/jquery.vpage.setStorage.js","webpack:///./src/jquery.vpage.initModels.js","webpack:///./src/jquery.vpage.listenStorage.js","webpack:///./src/jquery.vpage.modelName.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","default","object","property","prototype","hasOwnProperty","p","s","e","WatchJS","noMore","useDirtyCheck","preserveExistingSetters","lengthsubjects","dirtyChecklist","pendingChanges","supportDefineProperty","ex","isFunction","functionToCheck","toString","isArray","obj","isObject","apply","getObjDiff","a","b","aplus","bplus","length","push","j","added","removed","clone","copy","constructor","attr","defineProp","propName","configurable","writable","error","observeDirtyChanges","setter","prop","orig","callback","watchAll","watcher","level","addNRemove","defineWatcher","props","watchMany","pushToLengthSubjects","watchOne","unwatchMany","prop2","unwatchOne","timeouts","timerID","clearTimerID","getTimerID","setTimeout","registerTimeout","fn","trackObject","recursive","change","lastTimerID","isArr","action","newValue","oldValue","type","splices","this","index","deleteCount","addedCount","deleted","newWatcher","watchers","watchFunctions","addPendingChange","ln","wAll","watchList","__watchall__","concat","val","newval","delayWatcher","oldval","isSuspended","resume","callWatchers","existingSetter","getOwnPropertyDescriptor","set","e1","__defineGetter__","__defineSetter__","e2","defineGetAndSet","wl","wr","methodNames","defineArrayMethodWatcher","original","methodName","response","start","arguments","end","slice","String","splice","removeFromLengthSubjects","removeFromDirtyChecklist","__wjs_suspend__","pendingTimerID","applyPendingChanges","compareValues","state","actual","subj","setInterval","difference","watch","unwatch","unwatchPropsInObject","obj2","suspend","onChange","newvalue","oldvalue","factory","$","vpage","init","jQuery","version","isInit","storage","listenDom","router","rules","helper","initStorage","initModels","listenStorage","loadHistoryFromQuery","loadHash","onPopState","onHashChange","on","preventDefault","nodeName","currentTarget","modelName","href","box","split","path","queryString","customObject","convertQueryStringToObject","goto","existModel","models","historyPush","param","history","pushState","title","url","getMixParams","customParams","currentHistoryVpageParams","extend","getUrlParams","hash","vars","hashes","window","location","indexOf","hKey","hValue","decodeURIComponent","destroy","callModel","params","triggerType","setStorage","currentHistoryModelName","currentHashModelName","currentHashVpageParams","str","search","substring","JSON","parse","decodeURI","replace","allQueryObject","urlParams","rBoxMatch","locationHashBox","definedBox","_getHashRouter","each","splitBox","_matchRouterHash","matchModelName","matchParams","modelNameBox","seg","paramName","hashRouterBox","fun","_this","onpopstate","onhashchange","segments","getBox","searchStr","pathArray","pathname","mix","join","setModelName","prevModelName"],"mappings":"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","file":"jquery.vpage.min.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 1);\n","/**\n * DEVELOPED BY\n * GIL LOPES BUENO\n * gilbueno.mail@gmail.com\n *\n * WORKS WITH:\n * IE8*, IE 9+, FF 4+, SF 5+, WebKit, CH 7+, OP 12+, BESEN, Rhino 1.7+\n * For IE8 (and other legacy browsers) WatchJS will use dirty checking  \n *\n * FORK:\n * https://github.com/melanke/Watch.JS\n *\n * LICENSE: MIT\n */\n\n\"use strict\";\n(function (factory) {\n    if (typeof exports === 'object') {\n        // Node. Does not work with strict CommonJS, but\n        // only CommonJS-like enviroments that support module.exports,\n        // like Node.\n        module.exports = factory();\n    } else if (typeof define === 'function' && define.amd) {\n        // AMD. Register as an anonymous module.\n        define(factory);\n    } else {\n        // Browser globals\n        window.WatchJS = factory();\n        window.watch = window.WatchJS.watch;\n        window.unwatch = window.WatchJS.unwatch;\n        window.callWatchers = window.WatchJS.callWatchers;\n    }\n}(function () {\n\n    var WatchJS = {\n        noMore: false,        // use WatchJS.suspend(obj) instead\n        useDirtyCheck: false, // use only dirty checking to track changes.\n        preserveExistingSetters: false\n    },\n    lengthsubjects = [];\n    \n    var dirtyChecklist = [];\n    var pendingChanges = []; // used coalesce changes from defineProperty and __defineSetter__\n    \n    var supportDefineProperty = false;\n    try {\n        supportDefineProperty = Object.defineProperty && Object.defineProperty({},'x', {});\n    } catch(ex) {  /* not supported */  }\n\n    var isFunction = function (functionToCheck) {\n        var getType = {};\n        return functionToCheck && getType.toString.call(functionToCheck) == '[object Function]';\n    };\n\n    var isInt = function (x) {\n        return x % 1 === 0;\n    };\n\n    var isArray = function(obj) {\n        return Object.prototype.toString.call(obj) === '[object Array]';\n    };\n\n    var isObject = function(obj) {\n        return {}.toString.apply(obj) === '[object Object]';\n    };\n    \n    var getObjDiff = function(a, b){\n        var aplus = [],\n        bplus = [];\n\n        if(!(typeof a == \"string\") && !(typeof b == \"string\")){\n\n            if (isArray(a) && b) {\n                for (var i=0; i<a.length; i++) {\n                    if (b[i] === undefined) aplus.push(i);\n                }\n            } else {\n                for(var i in a){\n                    if (a.hasOwnProperty(i)) {\n                        if(b && !b.hasOwnProperty(i)) {\n                            aplus.push(i);\n                        }\n                    }\n                }\n            }\n\n            if (isArray(b) && a) {\n                for (var j=0; j<b.length; j++) {\n                    if (a[j] === undefined) bplus.push(j);\n                }\n            } else {\n                for(var j in b){\n                    if (b.hasOwnProperty(j)) {\n                        if(a && !a.hasOwnProperty(j)) {\n                            bplus.push(j);\n                        }\n                    }\n                }\n            }\n        }\n\n        return {\n            added: aplus,\n            removed: bplus\n        }\n    };\n\n    var clone = function(obj){\n\n        if (null == obj || \"object\" != typeof obj) {\n            return obj;\n        }\n\n        var copy = obj.constructor();\n\n        for (var attr in obj) {\n            copy[attr] = obj[attr];\n        }\n\n        return copy;        \n\n    }\n\n    var getExistingSetter = function (obj, propName) {\n        if (WatchJS.preserveExistingSetters) {\n            var existing = Object.getOwnPropertyDescriptor(obj, propName);\n            return existing.set;\n        }\n\n        return undefined;\n    }\n\n    var defineGetAndSet = function (obj, propName, getter, setter) {\n        try {\n            var existingSetter = getExistingSetter(obj, propName);\n            Object.defineProperty(obj, propName, {\n                get: getter,\n                set: function(value) {\n                    setter.call(this, value, true); // coalesce changes\n                    if (existingSetter) {\n                        existingSetter(value);\n                    }\n                },\n                enumerable: true,\n                configurable: true\n            });\n        }\n        catch(e1) {\n            try{\n                Object.prototype.__defineGetter__.call(obj, propName, getter);\n                Object.prototype.__defineSetter__.call(obj, propName, function(value) {\n                    setter.call(this,value,true); // coalesce changes\n                });\n            }\n            catch(e2) {\n                observeDirtyChanges(obj,propName,setter);\n                //throw new Error(\"watchJS error: browser not supported :/\")\n            }\n        }\n\n    };\n\n    var defineProp = function (obj, propName, value) {\n        try {\n            Object.defineProperty(obj, propName, {\n                enumerable: false,\n                configurable: true,\n                writable: false,\n                value: value\n            });\n        } catch(error) {\n            obj[propName] = value;\n        }\n    };\n\n    var observeDirtyChanges = function(obj,propName,setter) {\n        dirtyChecklist[dirtyChecklist.length] = {\n            prop:       propName,\n            object:     obj,\n            orig:       clone(obj[propName]),\n            callback:   setter\n        }        \n    }\n    \n    var watch = function () {\n\n        if (isFunction(arguments[1])) {\n            watchAll.apply(this, arguments);\n        } else if (isArray(arguments[1])) {\n            watchMany.apply(this, arguments);\n        } else {\n            watchOne.apply(this, arguments);\n        }\n\n    };\n\n\n    var watchAll = function (obj, watcher, level, addNRemove) {\n\n        if ((typeof obj == \"string\") || (!(obj instanceof Object) && !isArray(obj))) { //accepts only objects and array (not string)\n            return;\n        }\n\n        if(isArray(obj)) {\n            defineWatcher(obj, \"__watchall__\", watcher, level); // watch all changes on the array\n            if (level===undefined||level > 0) {\n                for (var prop = 0; prop < obj.length; prop++) { // watch objects in array\n                   watchAll(obj[prop],watcher,level, addNRemove);\n                }\n            }\n        } \n        else {\n            var prop,props = [];\n            for (prop in obj) { //for each attribute if obj is an object\n                if (prop == \"$val\" || (!supportDefineProperty && prop === 'watchers')) {\n                    continue;\n                }\n\n                if (Object.prototype.hasOwnProperty.call(obj, prop)) {\n                    props.push(prop); //put in the props\n                }\n            }\n            watchMany(obj, props, watcher, level, addNRemove); //watch all items of the props\n        }\n\n\n        if (addNRemove) {\n            pushToLengthSubjects(obj, \"$$watchlengthsubjectroot\", watcher, level);\n        }\n    };\n\n\n    var watchMany = function (obj, props, watcher, level, addNRemove) {\n\n        if ((typeof obj == \"string\") || (!(obj instanceof Object) && !isArray(obj))) { //accepts only objects and array (not string)\n            return;\n        }\n\n        for (var i=0; i<props.length; i++) { //watch each property\n            var prop = props[i];\n            watchOne(obj, prop, watcher, level, addNRemove);\n        }\n\n    };\n\n    var watchOne = function (obj, prop, watcher, level, addNRemove) {\n        if ((typeof obj == \"string\") || (!(obj instanceof Object) && !isArray(obj))) { //accepts only objects and array (not string)\n            return;\n        }\n\n        if(isFunction(obj[prop])) { //dont watch if it is a function\n            return;\n        }\n        if(obj[prop] != null && (level === undefined || level > 0)){\n            watchAll(obj[prop], watcher, level!==undefined? level-1 : level); //recursively watch all attributes of this\n        }\n\n        defineWatcher(obj, prop, watcher, level);\n\n        if(addNRemove && (level === undefined || level > 0)){\n            pushToLengthSubjects(obj, prop, watcher, level);\n        }\n\n    };\n\n    var unwatch = function () {\n\n        if (isFunction(arguments[1])) {\n            unwatchAll.apply(this, arguments);\n        } else if (isArray(arguments[1])) {\n            unwatchMany.apply(this, arguments);\n        } else {\n            unwatchOne.apply(this, arguments);\n        }\n\n    };\n\n    var unwatchAll = function (obj, watcher) {\n\n        if (obj instanceof String || (!(obj instanceof Object) && !isArray(obj))) { //accepts only objects and array (not string)\n            return;\n        }\n\n        if (isArray(obj)) {\n            var props = ['__watchall__'];\n            for (var prop = 0; prop < obj.length; prop++) { //for each item if obj is an array\n                props.push(prop); //put in the props\n            }\n            unwatchMany(obj, props, watcher); //watch all itens of the props\n        } else {\n            var unwatchPropsInObject = function (obj2) {\n                var props = [];\n                for (var prop2 in obj2) { //for each attribute if obj is an object\n                    if (obj2.hasOwnProperty(prop2)) {\n                        if (obj2[prop2] instanceof Object) {\n                            unwatchPropsInObject(obj2[prop2]); //recurs into object props\n                        } else {\n                            props.push(prop2); //put in the props\n                        }\n                    }\n                }\n                unwatchMany(obj2, props, watcher); //unwatch all of the props\n            };\n            unwatchPropsInObject(obj);\n        }\n    };\n\n\n    var unwatchMany = function (obj, props, watcher) {\n\n        for (var prop2 in props) { //watch each attribute of \"props\" if is an object\n            if (props.hasOwnProperty(prop2)) {\n                unwatchOne(obj, props[prop2], watcher);\n            }\n        }\n    };\n\n    var timeouts = [],\n        timerID = null;\n    function clearTimerID() {\n        timerID = null;\n        for(var i=0; i< timeouts.length; i++) {\n            timeouts[i]();\n        }\n        timeouts.length = 0;\n    }\n    var getTimerID= function () {\n        if (!timerID)  {\n            timerID = setTimeout(clearTimerID);\n        }\n        return timerID;\n    }\n    var registerTimeout = function(fn) { // register function to be called on timeout\n        if (timerID==null) getTimerID();\n        timeouts[timeouts.length] = fn;\n    }\n    \n    // Track changes made to an array, object or an object's property \n    // and invoke callback with a single change object containing type, value, oldvalue and array splices\n    // Syntax: \n    //      trackChange(obj, callback, recursive, addNRemove)\n    //      trackChange(obj, prop, callback, recursive, addNRemove)\n    var trackChange = function() {\n        var fn = (isFunction(arguments[2])) ? trackProperty : trackObject ;\n        fn.apply(this,arguments);\n    }\n\n    // track changes made to an object and invoke callback with a single change object containing type, value and array splices\n    var trackObject= function(obj, callback, recursive, addNRemove) {\n        var change = null,lastTimerID = -1;\n        var isArr = isArray(obj);\n        var level,fn = function(prop, action, newValue, oldValue) {\n            var timerID = getTimerID();\n            if (lastTimerID!==timerID) { // check if timer has changed since last update\n                lastTimerID = timerID;\n                change = {\n                    type: 'update'\n                }\n                change['value'] = obj;\n                change['splices'] = null;\n                registerTimeout(function() {\n                    callback.call(this,change);\n                    change = null;\n                });\n            }\n            // create splices for array changes\n            if (isArr && obj === this && change !== null)  {                \n                if (action==='pop'||action==='shift') {\n                    newValue = [];\n                    oldValue = [oldValue];\n                }\n                else if (action==='push'||action==='unshift') {\n                    newValue = [newValue];\n                    oldValue = [];\n                }\n                else if (action!=='splice') { \n                    return; // return here - for reverse and sort operations we don't need to return splices. a simple update will do\n                }\n                if (!change.splices) change.splices = [];\n                change.splices[change.splices.length] = {\n                    index: prop,\n                    deleteCount: oldValue ? oldValue.length : 0,\n                    addedCount: newValue ? newValue.length : 0,\n                    added: newValue,\n                    deleted: oldValue\n                };\n            }\n\n        }  \n        level = (recursive==true) ? undefined : 0;        \n        watchAll(obj,fn, level, addNRemove);\n    }\n    \n    // track changes made to the property of an object and invoke callback with a single change object containing type, value, oldvalue and splices\n    var trackProperty = function(obj,prop,callback,recursive, addNRemove) { \n        if (obj && prop) {\n            watchOne(obj,prop,function(prop, action, newvalue, oldvalue) {\n                var change = {\n                    type: 'update'\n                }\n                change['value'] = newvalue;\n                change['oldvalue'] = oldvalue;\n                if (recursive && isObject(newvalue)||isArray(newvalue)) {\n                    trackObject(newvalue,callback,recursive, addNRemove);\n                }               \n                callback.call(this,change);\n            },0)\n            \n            if (recursive && isObject(obj[prop])||isArray(obj[prop])) {\n                trackObject(obj[prop],callback,recursive, addNRemove);\n            }                           \n        }\n    }\n    \n    \n    var defineWatcher = function (obj, prop, watcher, level) {\n        var newWatcher = false;\n        var isArr = isArray(obj);\n        \n        if (!obj.watchers) {\n            defineProp(obj, \"watchers\", {});\n            if (isArr) {\n                // watch array functions\n                watchFunctions(obj, function(index,action,newValue, oldValue) {\n                    addPendingChange(obj, index, action,newValue, oldValue);\n                    if (level !== 0 && newValue && (isObject(newValue) || isArray(newValue))) {\n                        var i,n, ln, wAll, watchList = obj.watchers[prop];\n                        if ((wAll = obj.watchers['__watchall__'])) {\n                            watchList = watchList ? watchList.concat(wAll) : wAll;\n                        }\n                        ln = watchList ?  watchList.length : 0;\n                        for (i = 0; i<ln; i++) {\n                            if (action!=='splice') {\n                                watchAll(newValue, watchList[i], (level===undefined)?level:level-1);\n                            }\n                            else {\n                                // watch spliced values\n                                for(n=0; n < newValue.length; n++) {\n                                    watchAll(newValue[n], watchList[i], (level===undefined)?level:level-1);\n                                }\n                            }\n                        }\n                    }\n                });\n            }\n        }\n\n        if (!obj.watchers[prop]) {\n            obj.watchers[prop] = [];\n            if (!isArr) newWatcher = true;\n        }\n\n        for (var i=0; i<obj.watchers[prop].length; i++) {\n            if(obj.watchers[prop][i] === watcher){\n                return;\n            }\n        }\n\n        obj.watchers[prop].push(watcher); //add the new watcher to the watchers array\n\n        if (newWatcher) {\n            var val = obj[prop];            \n            var getter = function () {\n                return val;                        \n            };\n\n            var setter = function (newval, delayWatcher) {\n                var oldval = val;\n                val = newval;                \n                if (level !== 0 \n                    && obj[prop] && (isObject(obj[prop]) || isArray(obj[prop]))\n                    && !obj[prop].watchers) {\n                    // watch sub properties\n                    var i,ln = obj.watchers[prop].length; \n                    for(i=0; i<ln; i++) {\n                        watchAll(obj[prop], obj.watchers[prop][i], (level===undefined)?level:level-1);\n                    }\n                }\n\n                //watchFunctions(obj, prop);\n                \n                if (isSuspended(obj, prop)) {\n                    resume(obj, prop);\n                    return;\n                }\n\n                if (!WatchJS.noMore){ // this does not work with Object.observe\n                    //if (JSON.stringify(oldval) !== JSON.stringify(newval)) {\n                    if (oldval !== newval) {\n                        if (!delayWatcher) {\n                            callWatchers(obj, prop, \"set\", newval, oldval);\n                        }\n                        else {\n                            addPendingChange(obj, prop, \"set\", newval, oldval);\n                        }\n                        WatchJS.noMore = false;\n                    }\n                }\n            };\n\n            if (WatchJS.useDirtyCheck) {\n                observeDirtyChanges(obj,prop,setter);\n            }\n            else {\n                defineGetAndSet(obj, prop, getter, setter);\n            }\n        }\n\n    };\n\n    var callWatchers = function (obj, prop, action, newval, oldval) {\n        if (prop !== undefined) {\n            var ln, wl, watchList = obj.watchers[prop];\n            if ((wl = obj.watchers['__watchall__'])) {\n                watchList = watchList ? watchList.concat(wl) : wl;\n            }\n            ln = watchList ? watchList.length : 0;\n            for (var wr=0; wr< ln; wr++) {\n                watchList[wr].call(obj, prop, action, newval, oldval);\n            }\n        } else {\n            for (var prop in obj) {//call all\n                if (obj.hasOwnProperty(prop)) {\n                    callWatchers(obj, prop, action, newval, oldval);\n                }\n            }\n        }\n    };\n\n    var methodNames = ['pop', 'push', 'reverse', 'shift', 'sort', 'slice', 'unshift', 'splice'];\n    var defineArrayMethodWatcher = function (obj, original, methodName, callback) {\n        defineProp(obj, methodName, function () {\n            var index = 0;\n            var i,newValue, oldValue, response;                        \n            // get values before splicing array \n            if (methodName === 'splice') {\n               var start = arguments[0];\n               var end = start + arguments[1];\n               oldValue = obj.slice(start,end);\n               newValue = [];\n               for(i=2;i<arguments.length;i++) {\n                   newValue[i-2] = arguments[i];\n               }\n               index = start;\n            } \n            else {\n                newValue = arguments.length > 0 ? arguments[0] : undefined;\n            } \n\n            response = original.apply(obj, arguments);\n            if (methodName !== 'slice') {\n                if (methodName === 'pop') {\n                    oldValue = response;\n                    index = obj.length;\n                }\n                else if (methodName === 'push') {\n                    index = obj.length-1;\n                }\n                else if (methodName === 'shift') {\n                    oldValue = response;\n                }\n                else if (methodName !== 'unshift' && newValue===undefined) {\n                    newValue = response;\n                }\n                callback.call(obj, index, methodName,newValue, oldValue)\n            }\n            return response;\n        });\n    };\n\n    var watchFunctions = function(obj, callback) {\n\n        if (!isFunction(callback) || !obj || (obj instanceof String) || (!isArray(obj))) {\n            return;\n        }\n\n        for (var i = methodNames.length, methodName; i--;) {\n            methodName = methodNames[i];\n            defineArrayMethodWatcher(obj, obj[methodName], methodName, callback);\n        }\n\n    };\n\n    var unwatchOne = function (obj, prop, watcher) {\n        if (prop) {\n            if (obj.watchers && obj.watchers[prop]) {\n                if (watcher === undefined) {\n                    delete obj.watchers[prop]; // remove all property watchers\n                }\n                else {\n                    for (var i = 0; i < obj.watchers[prop].length; i++) {\n                        var w = obj.watchers[prop][i];\n                        if (w == watcher) {\n                            obj.watchers[prop].splice(i, 1);\n                        }\n                    }\n                }\n            }\n        } else {\n            delete obj.watchers;\n        }\n\n        removeFromLengthSubjects(obj, prop, watcher);\n        removeFromDirtyChecklist(obj, prop);\n    };\n    \n    // suspend watchers until next update cycle\n    var suspend = function(obj, prop) {\n        if (obj.watchers) {\n            var name = '__wjs_suspend__'+(prop!==undefined ? prop : '');\n            obj.watchers[name] = true;\n        }\n    }\n    \n    var isSuspended = function(obj, prop) {\n        return obj.watchers \n               && (obj.watchers['__wjs_suspend__'] || \n                   obj.watchers['__wjs_suspend__'+prop]);\n    }\n    \n    // resumes preivously suspended watchers\n    var resume = function(obj, prop) {\n        registerTimeout(function() {\n            delete obj.watchers['__wjs_suspend__'];\n            delete obj.watchers['__wjs_suspend__'+prop];\n        })\n    }\n\n    var pendingTimerID = null;\n    var addPendingChange = function(obj,prop, mode, newval, oldval) {\n        pendingChanges[pendingChanges.length] = {\n            obj:obj,\n            prop: prop,\n            mode: mode,\n            newval: newval,\n            oldval: oldval\n        };\n        if (pendingTimerID===null) {\n            pendingTimerID = setTimeout(applyPendingChanges);\n        }\n    };\n    \n    \n    var applyPendingChanges = function()  {\n        // apply pending changes\n        var change = null;\n        pendingTimerID = null;\n        for(var i=0;i < pendingChanges.length;i++) {\n            change = pendingChanges[i];\n            callWatchers(change.obj, change.prop, change.mode, change.newval, change.oldval);\n        }\n        if (change) {\n            pendingChanges = [];\n            change = null;\n        }        \n    }\n\n    var loop = function(){\n\n        // check for new or deleted props\n        for(var i=0; i<lengthsubjects.length; i++) {\n\n            var subj = lengthsubjects[i];\n\n            if (subj.prop === \"$$watchlengthsubjectroot\") {\n\n                var difference = getObjDiff(subj.obj, subj.actual);\n\n                if(difference.added.length || difference.removed.length){\n                    if(difference.added.length){\n                        watchMany(subj.obj, difference.added, subj.watcher, subj.level - 1, true);\n                    }\n\n                    subj.watcher.call(subj.obj, \"root\", \"differentattr\", difference, subj.actual);\n                }\n                subj.actual = clone(subj.obj);\n\n\n            } else {\n\n                var difference = getObjDiff(subj.obj[subj.prop], subj.actual);\n\n                if(difference.added.length || difference.removed.length){\n                    if(difference.added.length){\n                        for (var j=0; j<subj.obj.watchers[subj.prop].length; j++) {\n                            watchMany(subj.obj[subj.prop], difference.added, subj.obj.watchers[subj.prop][j], subj.level - 1, true);\n                        }\n                    }\n\n                    callWatchers(subj.obj, subj.prop, \"differentattr\", difference, subj.actual);\n                }\n\n                subj.actual = clone(subj.obj[subj.prop]);\n\n            }\n\n        }\n        \n        // start dirty check\n        var n, value;\n        if (dirtyChecklist.length > 0) {\n            for (var i = 0; i < dirtyChecklist.length; i++) {\n                n = dirtyChecklist[i];\n                value = n.object[n.prop];\n                if (!compareValues(n.orig, value)) {\n                    n.orig = clone(value);\n                    n.callback(value);\n                }\n            }\n        }\n\n    };\n\n    var compareValues =  function(a,b) {\n        var i, state = true;\n        if (a!==b)  {\n            if (isObject(a)) {\n                for(i in a) {\n                    if (!supportDefineProperty && i==='watchers') continue;\n                    if (a[i]!==b[i]) {\n                        state = false;\n                        break;\n                    };\n                }\n            }\n            else {\n                state = false;\n            }\n        }\n        return state;\n    }\n    \n    var pushToLengthSubjects = function(obj, prop, watcher, level){\n\n        var actual;\n\n        if (prop === \"$$watchlengthsubjectroot\") {\n            actual =  clone(obj);\n        } else {\n            actual = clone(obj[prop]);\n        }\n\n        lengthsubjects.push({\n            obj: obj,\n            prop: prop,\n            actual: actual,\n            watcher: watcher,\n            level: level\n        });\n    };\n\n    var removeFromLengthSubjects = function(obj, prop, watcher){\n        for (var i=0; i<lengthsubjects.length; i++) {\n            var subj = lengthsubjects[i];\n\n            if (subj.obj == obj) {\n                if (!prop || subj.prop == prop) {\n                    if (!watcher || subj.watcher == watcher) {\n                        // if we splice off one item at position i\n                        // we need to decrement i as the array is one item shorter\n                        // so when we increment i in the loop statement we\n                        // will land at the correct index.\n                        // if it's not decremented, you won't delete all length subjects\n                        lengthsubjects.splice(i--, 1);\n                    }\n                }\n            }\n        }\n\n    };\n    \n    var removeFromDirtyChecklist = function(obj, prop){\n        var notInUse;\n        for (var i=0; i<dirtyChecklist.length; i++) {\n            var n = dirtyChecklist[i];\n            var watchers = n.object.watchers;\n            notInUse = (\n                n.object == obj \n                && (!prop || n.prop == prop)\n                && watchers\n                && (!prop || !watchers[prop] || watchers[prop].length == 0 )\n            );\n            if (notInUse)  {\n                // we use the same syntax as in removeFromLengthSubjects\n                dirtyChecklist.splice(i--, 1);\n            }\n        }\n\n    };    \n\n    setInterval(loop, 50);\n\n    WatchJS.watch = watch;\n    WatchJS.unwatch = unwatch;\n    WatchJS.callWatchers = callWatchers;\n    WatchJS.suspend = suspend; // suspend watchers    \n    WatchJS.onChange = trackChange;  // track changes made to object or  it's property and return a single change object\n\n    return WatchJS;\n\n}));\n","import './jquery.vpage.init.js';\r\nimport './jquery.vpage.router.js';\r\nimport './jquery.vpage.listenDom.js';\r\n\r\nimport './jquery.vpage.existModel.js';\r\nimport './jquery.vpage.historyPush.js';\r\nimport './jquery.vpage.getMixParams.js';\r\nimport './jquery.vpage.getUrlParams.js';\r\nimport './jquery.vpage.destroy.js';\r\nimport './jquery.vpage.callModel.js';\r\nimport './jquery.vpage.goto.js';\r\nimport './jquery.vpage.helper.js';\r\nimport './jquery.vpage.setStorage.js';\r\nimport './jquery.vpage.initModels.js';\r\nimport './jquery.vpage.listenStorage.js';\r\nimport './jquery.vpage.modelName.js';\r\n\r\n$(function (){\r\n    $.vpage.init();\r\n})","(function($) {\r\n\r\n    $.vpage = {\r\n\r\n        version: '2.3.0',\r\n\r\n        // 只有為 true 的時候，才有辦法進行程序\r\n        isInit: false,\r\n        \r\n        // 倉儲，當初始化之後，任何改變 storage 的行為，都不可直接指定，\r\n        // 務必需要透過 $.vpage.setStorage() 指定\r\n        // storage 物件的預設名稱，參考 $.vpage.helper.initStorage()\r\n        storage: {}\r\n    }\r\n\r\n    \r\n    $.vpage.init = function() {\r\n        $.vpage.listenDom();\r\n    }\r\n\r\n}(jQuery));","(function($) {\r\n\r\n    /**\r\n     * 當 history 沒有任何 ?vpage 那麼將會預設觸發 'default'\r\n     * 若當 Hash 從有到無，將會觸發 'noneHash'\r\n     * \r\n     */\r\n\r\n    $.vpage.router = function(rules) {\r\n\r\n        $.vpage.isInit = true;\r\n\r\n        // 初始化倉儲\r\n        $.vpage.helper.initStorage();\r\n\r\n        // 初始化倉儲中的模型\r\n        $.vpage.initModels(rules)\r\n\r\n        // 監聽倉儲如果發生改變\r\n        $.vpage.listenStorage();\r\n        \r\n        // 當網址有 vpage 相關參數，則觸發模型\r\n        $.vpage.helper.loadHistoryFromQuery('onLoad');\r\n\r\n        // 當網址有 Hash 的時候進行比對與觸發\r\n        $.vpage.helper.loadHash('onLoad');\r\n        \r\n        $.vpage.helper.onPopState();\r\n\r\n        $.vpage.helper.onHashChange();\r\n\r\n    }\r\n}(jQuery));","(function($) {\r\n    $.vpage.listenDom = function() {\r\n\r\n        $(\"body\").on(\"click\", \"[data-vpage]\", function (e){\r\n            e.preventDefault();\r\n            \r\n            // 取得標籤名稱與模型名稱\r\n            var nodeName = e.currentTarget.nodeName;\r\n            var modelName = $(this).attr(\"data-vpage\");\r\n\r\n            // 若是超連結\r\n            if (nodeName === \"A\"){\r\n                var href = $(this).attr(\"href\");\r\n            } else {\r\n                var href = $(this).attr(\"data-href\");\r\n            }\r\n\r\n            var box = href.split(\"?\");\r\n            var path = box[0];\r\n            var queryString = box[1]\r\n\r\n            var customObject = queryString === undefined \r\n                ? {}\r\n                : $.vpage.helper.convertQueryStringToObject(\"?\" + queryString);\r\n\r\n            $.vpage.goto(modelName, customObject, path);\r\n            \r\n        })\r\n\r\n\r\n        \r\n\r\n\r\n    }\r\n}(jQuery));","(function($) {\r\n    // 判斷指定的模型名稱是否已經存在\r\n    $.vpage.existModel = function (modelName, callback){\r\n        if ($.vpage.storage.models[modelName] === undefined) return false;\r\n        callback.call(this);\r\n        return true;\r\n    }\r\n}(jQuery));","(function($) {\r\n    /**\r\n     * @param   storage\r\n     * @param   url\r\n     * @param   title\r\n     */\r\n    $.vpage.historyPush = function(param) {\r\n        history.pushState(param.storage, param.title, param.url);\r\n    }\r\n}(jQuery));","(function($) {\r\n    /**\r\n     * 混合模型所需要的參數\r\n     * @param   modelName  模型名稱\r\n     * @param   customParams 使用者自訂參數\r\n     */\r\n    $.vpage.getMixParams = function(modelName, customParams) {\r\n        var currentHistoryVpageParams = {\r\n            vpage: modelName,\r\n        }\r\n        $.extend(true, currentHistoryVpageParams, customParams);\r\n        return currentHistoryVpageParams;\r\n    }\r\n}(jQuery));","(function($) {\r\n    // 取得網址的 get 參數，例如 ?\r\n    $.vpage.getUrlParams = function(key) {\r\n        \r\n        var vars = {},\r\n            hash;\r\n\r\n        var hashes = window.location.href.slice(window.location.href.indexOf('?') + 1).split('&');\r\n        \r\n        for (var i = 0; i < hashes.length; i++) {\r\n            hash = hashes[i].split('=');\r\n            // vars[hash[0]] = hash[1];\r\n            if (hash[1] === undefined) return false;\r\n\r\n            var hKey = hash[0];\r\n            var hValue = hash[1];\r\n\r\n\r\n            var valueSplitBox = hValue.split(\"#\")\r\n            hValue = valueSplitBox[0];\r\n\r\n            vars[hKey] = decodeURIComponent(hValue);\r\n        }\r\n\r\n\r\n        return !key ? vars : vars[key];\r\n    }\r\n}(jQuery));","import WatchJS from 'melanke-watchjs';\r\n\r\nconst watch = WatchJS.watch;\r\nconst unwatch = WatchJS.unwatch;\r\nconst callWatchers = WatchJS.callWatchers;\r\n\r\n(function($) {\r\n    $.vpage.destroy = function() {\r\n        unwatch($.vpage.storage, \"currentHistoryModelName\");\r\n        $.vpage.helper.initStorage();\r\n        $.vpage.isInit = false;\r\n        return true;\r\n    }\r\n}(jQuery));","(function($) {\r\n    /**\r\n     * 呼叫模型的方法。\r\n     * 注意！不應該直接觸發，因為這是交給 watch 當 storage.currentHistoryModelName 被改變時，\r\n     * 所呼叫的方法。\r\n     * \r\n     * @param  {[type]} modelName [description]\r\n     * @param  {[type]} params [description]\r\n     */\r\n    $.vpage.callModel = function(modelName, params) {\r\n\r\n        // 如果呼叫的模型名稱不存在\r\n        if ($.vpage.storage.models[modelName] === undefined) return false;\r\n\r\n        var triggerType = $.vpage.storage.triggerType;\r\n\r\n        $.vpage.storage.models[modelName].call(this, params, triggerType);\r\n    }\r\n}(jQuery));","(function($) {\r\n    /**\r\n     * 使用者要前往的模型\r\n     * @param  {string} modelName  模型名稱\r\n     * @param  {object} *customParams 使用者自訂夾帶的參數\r\n     * @param  {string} *path 路徑\r\n     */\r\n    $.vpage.goto = function(modelName, customParams, path) {\r\n\r\n        if ($.vpage.isInit === false) return false;\r\n\r\n        if (path === undefined) path = \"\";\r\n\r\n        // 模型名稱是否已經存在？\r\n        var isExist = $.vpage.existModel(modelName, function (){\r\n\r\n            // 混合模型所需要的參數\r\n            var currentHistoryVpageParams = $.vpage.getMixParams(modelName, customParams);\r\n\r\n            // 轉換成網址的參數\r\n            var queryString = $.param(currentHistoryVpageParams);\r\n\r\n            // 添加到歷史紀錄\r\n            $.vpage.historyPush({\r\n                storage: currentHistoryVpageParams,\r\n                url: path + '?' + queryString,\r\n                title: currentHistoryVpageParams.title\r\n            })\r\n\r\n            // 改變當前倉儲設定\r\n            $.vpage.setStorage({\r\n                currentHistoryModelName: modelName,\r\n                currentHistoryVpageParams: currentHistoryVpageParams\r\n            })\r\n\r\n        })\r\n\r\n        if (isExist === false) return false;    \r\n\r\n        return true;\r\n    }\r\n}(jQuery));","(function($) {\r\n    $.vpage.helper = new function (){\r\n        // 初始化倉儲\r\n        this.initStorage = function() {\r\n            $.vpage.storage = {\r\n                // 記錄所有模型方法，如同路由\r\n                models: {},\r\n\r\n                // 讀取的類型，判斷是頁面載入或是上下頁面切換 onLoad | onPop\r\n                triggerType: null, \r\n\r\n                // 當前 history 新模型的名稱與觸發的所有參數\r\n                currentHistoryModelName: false, \r\n                currentHistoryVpageParams: {},\r\n\r\n                // 當前 hash 新模型的名稱與觸發的所有參數\r\n                currentHashModelName: false,\r\n                currentHashVpageParams: {}\r\n            }\r\n        }\r\n\r\n        /**\r\n         * 轉換如 ?id=123 為 {id:123}\r\n         */\r\n        this.convertQueryStringToObject = function (str){\r\n            var search = str.substring(1);\r\n            var obj = JSON.parse('{\"' + decodeURI(search).replace(/\"/g, '\\\\\"').replace(/&/g, '\",\"').replace(/=/g,'\":\"') + '\"}')\r\n            return obj;\r\n        }\r\n\r\n\r\n        /**\r\n         * 從網址找到 vpage 所指定的模型名稱，使之觸發回呼。\r\n         * 如果找不到，則預設\r\n         * @param  {string} triggerType onLoad | onPop\r\n         * @callback(allQueryObject)\r\n         */\r\n        this.loadHistoryFromQuery = function(triggerType) {\r\n\r\n            var allQueryObject = $.vpage.getUrlParams();\r\n            var modelName = $.vpage.modelName(allQueryObject);\r\n\r\n            // console.log(\"--->\", modelName, window.location.hash)\r\n            if (modelName === null) {\r\n\r\n                $.vpage.setStorage({\r\n                    currentHistoryModelName: 'default',\r\n                    currentHistoryVpageParams: {},\r\n                    triggerType: triggerType\r\n                })\r\n\r\n                return false;\r\n            }\r\n\r\n            // modelName 是否存在\r\n            $.vpage.existModel(modelName, function() {\r\n\r\n                // 重新取得網址參數\r\n                var urlParams = $.vpage.getUrlParams();\r\n\r\n                // console.log('history is here')\r\n\r\n                // 變更當前的模型名稱\r\n                $.vpage.setStorage({\r\n                    currentHistoryModelName: modelName,\r\n                    currentHistoryVpageParams: urlParams,\r\n                    triggerType: triggerType\r\n                })\r\n            });\r\n        }\r\n\r\n        /**\r\n         * @param  {string} triggerType onLoad | onPop\r\n         */\r\n        this.loadHash = function (triggerType){\r\n            var rBoxMatch;\r\n\r\n            var hash = window.location.hash;\r\n\r\n            // 如果沒有 Hash\r\n            if (hash === \"\") {\r\n                \r\n                $.vpage.setStorage({\r\n                    currentHashModelName: 'noneHash',\r\n                    currentHashVpageParams: {},\r\n                    triggerType: triggerType\r\n                })\r\n\r\n                return false;\r\n            }\r\n\r\n            // 分解符號 /\r\n            var locationHashBox = hash.split(\"/\")\r\n\r\n            // 若有，把定義路由 hash 的形式找出來\r\n            var definedBox = _getHashRouter();\r\n            \r\n            // 符合模型名稱的，拆解出每個字段\r\n            $.each(definedBox, function (key, modelName){\r\n\r\n                // 將定義的路由分解\r\n                var splitBox = modelName.split(\"/\");\r\n\r\n                rBoxMatch = _matchRouterHash(modelName, splitBox, locationHashBox)\r\n\r\n                // 如果不是匹配的模型名稱，繼續下一個\r\n                if (rBoxMatch.matchModelName === false) return true;\r\n\r\n                // 找到了\r\n                return false;\r\n            })\r\n\r\n\r\n            // 觸發並傳遞參數\r\n            $.vpage.setStorage({\r\n                currentHashModelName: rBoxMatch.matchModelName,\r\n                currentHashVpageParams: rBoxMatch.matchParams,\r\n                triggerType: triggerType\r\n            })\r\n\r\n        }\r\n\r\n        // 開始比對如 user/uid => user/123\r\n        var _matchRouterHash = function (modelName, modelNameBox, locationHashBox){\r\n\r\n            // 放置匹配到的模型名稱\r\n            var matchModelName = false;\r\n\r\n            // 放置匹配到給模型的參數\r\n            var matchParams = {};\r\n\r\n            // EX.\r\n            // [#user, :uid]   <==> [#user, 123]\r\n            // [#products, content, :pid]   <==> [#products, content, 123]\r\n            $.each(modelNameBox, function (key, seg){\r\n            \r\n                // 如果是模型盒的第一個，且它的字段不等於網址 Hash 的第一個字段值，那麼後續也不必比對，因為絕對不是這個\r\n                if (key == 0 && seg != locationHashBox[key]) return false;\r\n\r\n                // 若還有下一筆\r\n                if (key + 1 < modelNameBox.length) {\r\n\r\n                    // 模型名稱的字段與 hash 值對應到了，那代表有可能是這個路由，所以繼續比對下一個字段。如果對應不到，那有可能是參數。\r\n                    if (seg == locationHashBox[key]) return true;\r\n\r\n                    // 這個字段是如 :var 參數嗎\r\n                    if (seg.indexOf(\":\") < 0) return false; // 代表這個字段屬於路由，而不是參數。代表路由不符合。\r\n                }\r\n\r\n                // 代表變數就是這個值，例如 id = 123\r\n                var paramName = seg.slice(1); // 去除 :\r\n\r\n                // 設定模型名稱\r\n                if (matchModelName === false) matchModelName = modelName;\r\n\r\n                // 設定模型需要的參數\r\n                matchParams[paramName] = locationHashBox[key];\r\n\r\n                // 繼續下一個字段，比對參數下去\r\n                return true;\r\n            })\r\n\r\n            return {\r\n                matchModelName: matchModelName,\r\n                matchParams: matchParams\r\n            }\r\n        }\r\n\r\n\r\n        // 取得路由指定的 hash 項目\r\n        var _getHashRouter = function (){\r\n\r\n            var hashRouterBox = [];\r\n            \r\n            $.each($.vpage.storage.models, function (modelName, fun){\r\n                \r\n                // 若模組名稱的第一個字不是 # 則繼續尋找\r\n                if (modelName.indexOf(\"#\") < 0) return true; \r\n\r\n                // 來到這裡的就是 hash 類型\r\n                hashRouterBox.push(modelName)\r\n            })\r\n            \r\n            return hashRouterBox;\r\n        }\r\n\r\n        // 瀏覽器上、下頁切換\r\n        this.onPopState = function() {\r\n            var _this = this;\r\n            window.onpopstate = function() {\r\n\r\n                _this.loadHistoryFromQuery('onPop');\r\n\r\n            }\r\n        }\r\n\r\n        // Hash 上、下頁切換\r\n        this.onHashChange = function (){\r\n            window.onhashchange = function (){\r\n\r\n                // console.log('onHashChange')\r\n\r\n                // 因為 modelName 如 'user/:uid' 在進行切換的時候並不會變動\r\n                // 所以要預先設設置一份偽 modelName 作為變動概念\r\n                $.vpage.setStorage({\r\n                    currentHashModelName: '--autoSetForOnHashChange',\r\n                    currentHashVpageParams: {},\r\n                    triggerType: 'onPop'\r\n                })\r\n\r\n                $.vpage.helper.loadHash('onPop');\r\n\r\n                // 代表上方沒有找到 HASH\r\n                if ($.vpage.storage.currentHashModelName === '--autoSetForOnHashChange'){\r\n                    $.vpage.setStorage({\r\n                        currentHashModelName: 'noneHash',\r\n                        currentHashVpageParams: {},\r\n                        triggerType: 'onPop'\r\n                    })\r\n                }\r\n            }\r\n        }\r\n\r\n        \r\n\r\n        /**\r\n         * 取得組合片段\r\n         * @param  {array} getBox 指定要找的片段索引，例如 [1,2]\r\n         * @param  {array} getBox 提供尋找的字串，不指定則使用 pathname\r\n         * @return {string}       取得如 user/123\r\n         */\r\n        this.segments = function (getBox, searchStr){\r\n\r\n            var str = searchStr === undefined \r\n                ? window.location.pathname\r\n                : searchStr;\r\n\r\n            var pathArray = str.split( '/' );\r\n            var mix = [];\r\n\r\n            $.each(getBox, function (key, val){\r\n\r\n                if (pathArray[val] === undefined) return false;\r\n\r\n                mix.push(pathArray[val])\r\n            })\r\n\r\n            return mix.join(\"/\");\r\n        }\r\n\r\n    }\r\n}(jQuery));","(function($) {\r\n    // 改變當前倉儲設定 \r\n    $.vpage.setStorage = function(params) {\r\n\r\n        // console.log([\r\n        //     \"setStorage Before:::\", \r\n        //     params, \r\n        //     $.vpage.storage,\r\n        // ])\r\n\r\n\r\n        $.vpage.storage = $.extend($.vpage.storage, params);\r\n\r\n\r\n        // console.log([\r\n        //     \"setStorage After:::\", \r\n        //     params, \r\n        //     $.vpage.storage \r\n        // ])\r\n\r\n    }\r\n}(jQuery));","(function($) {\r\n    /**\r\n     * 初始化模型\r\n     * 預設的起始觸發叫做 default，可由使用者自行定義\r\n     * \r\n     * @param object rules \r\n     */\r\n    $.vpage.initModels = function (rules){\r\n\r\n        // 預設的起始觸發叫做 default，可由使用者自行定義\r\n        $.vpage.storage.models = $.extend({\r\n            default: function() {\r\n\r\n            }\r\n        }, rules);\r\n        \r\n    }\r\n}(jQuery));","import WatchJS from 'melanke-watchjs';\r\n\r\nconst watch = WatchJS.watch;\r\nconst unwatch = WatchJS.unwatch;\r\nconst callWatchers = WatchJS.callWatchers;\r\n\r\n(function($) {\r\n    // 監聽一旦設定當前的模型名稱時，會觸發的回呼\r\n    $.vpage.listenStorage = function (){\r\n\r\n        watch($.vpage.storage, \"currentHistoryModelName\", function(key, action, setModelName, prevModelName) {\r\n            \r\n            $.vpage.callModel(setModelName, $.vpage.storage.currentHistoryVpageParams)\r\n\r\n        });\r\n\r\n\r\n        watch($.vpage.storage, \"currentHashModelName\", function(key, action, setModelName, prevModelName) {\r\n            \r\n            $.vpage.callModel(setModelName, $.vpage.storage.currentHashVpageParams)\r\n\r\n        });\r\n    }\r\n}(jQuery));","(function($) {\r\n    /**\r\n     * 從網址參數中取得模型名稱\r\n     * @param  {object} allQueryObject 網址參數的物件\r\n     * @return {string}                模型名稱\r\n     */\r\n    $.vpage.modelName = function (allQueryObject){\r\n        \r\n        // 尋找\r\n        return (allQueryObject['vpage'] === undefined) \r\n            ? null \r\n            : allQueryObject['vpage'];\r\n    }\r\n}(jQuery));"],"sourceRoot":""}